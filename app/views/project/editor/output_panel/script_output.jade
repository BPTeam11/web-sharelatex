div.full-size(ng-controller="ScriptOutputController")
	.toolbar.toolbar-tall
		a.btn.btn-info(
			href,
			ng-disabled="running",
			ng-click="run()"
		)
			i.fa.fa-fw(
				ng-class="{'fa-refresh fa-spin': running, 'fa-play': !running }"
			)
			| &nbsp;&nbsp;
			span(ng-show="!running") #{translate("run")}
			span(ng-show="running") #{translate("running")}...
			
	div.script-output
		.alert.alert-danger(ng-show="error")
			strong #{translate("server_error")} 
			span #{translate("somthing_went_wrong_compiling")}

		.output-file.card.card-thin(ng-if="output.stdout && output.stdout != ''")
			.page-header.output-file-page-header #{translate("output")}
			pre.output.stdout {{ output.stdout }}
		
		.output-file.card.card-thin(ng-if="output.stderr && output.stderr != ''")
			.page-header.output-file-page-header #{translate("errors")}
			pre.output.stderr {{ output.stderr }}
		
		.output-file.card.card-thin(ng-repeat="file in files")
			.page-header.output-file-page-header {{ file.path }}
			img(
				ng-if="file.type == 'image'"
				ng-src="{{ file.url }}"
			)
			iframe(
				ng-if="file.type == 'pdf'"
				ng-src="{{ file.url }}"
			)
			div.output-file-text(
				ng-if="file.type == 'text'"
			)
				p.row-spaced-small.text-center.loading(ng-show="file.loading")
					i.fa.fa-refresh.fa-spin
					span  #{translate("loading")}
				pre(ng-show="!file.loading") {{ file.content }}
			p.output-file-download-link.text-center(ng-if="file.type != 'image'")
				a(ng-href="{{file.url}}", target="_blank") Download